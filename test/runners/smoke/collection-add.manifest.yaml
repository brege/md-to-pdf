name: collection add (End-to-End Test) src/cli/commands/collection/add.command.js
base_command: md-to-pdf
tags:
  - plugin
  - enable
  - cli
  - smoke
  - collection
  - happy-path
workflow: false
scenarios:
  - description: should successfully add a collection from a git URL
    test_id: 3.10.1
    args: >-
      collection add https://github.com/brege/md-to-pdf-plugins.git --name
      test-collection-1
    expect:
      executes: true
      contains: Successfully
  - description: should successfully add a collection from a local directory
    test_id: 3.10.2
    args: >-
      collection add {{paths.fixturesDir}}/full-fat-dummies/valid-collection
      --name test-collection-2
    expect:
      executes: true
      contains: Successfully
  - description: should fail to add a collection from an invalid local directory
    test_id: 3.10.3.1
    args: >-
      collection add {{paths.fixturesDir}}/full-fat-dummies/invalid-collection
      --name invalid-collection
    expect:
      contains: Failed
      executes: false
  - description: should fail to add a collection from an invalid git URL
    test_id: 3.10.3.2
    args: >-
      collection add https://github.com/brege/invalid-plugin-repo.git --name
      invalid-collection
    expect:
      contains: Failed
      executes: false
