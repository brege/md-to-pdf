name: collection list (End-to-End Test) src/cli/commands/collection/list.command.js
base_command: oshea
tags:
  - cli
  - smoke
  - collection
  - list
workflow: false
scenarios:
  - description: should list downloaded collections (default)
    test_id: 3.11.1
    args: collection list names
    expect:
      contains_any:
        - Downloaded plugin collections
        - No downloaded collections found
  - description: should list collection names (short)
    test_id: 3.11.2
    args: collection list names --short
    expect:
      contains_any:
        - Downloaded plugin collections
        - No downloaded collections found
  - description: should list available plugins from collections
    test_id: 3.11.3
    args: collection list available
    expect:
      contains_any:
        - Available plugins
        - No available plugins found in any collection
  - description: should list enabled plugins from collections
    test_id: 3.11.4
    args: collection list enabled
    expect:
      contains_any:
        - Enabled plugins
        - No enabled plugins found
  - description: should list all plugins (alias for available)
    test_id: 3.11.5
    args: collection list all
    expect:
      contains_any:
        - Available plugins
        - No available plugins found in any collection
  - description: should return an empty-state message for list collections
    test_id: 3.11.6
    args: collection list names
    expect:
      executes: true
    visual_check: Clean empty state messaging with consistent theming
  - description: should list available plugins (empty state)
    test_id: 3.11.7
    args: collection list available
    expect:
      contains: No available plugins
  - description: should return an empty-state message for list enabled
    test_id: 3.11.8
    args: collection list enabled
    expect:
      contains: No enabled plugins
  - description: should return a message for non-existent collections root
    test_id: 3.11.9
    args: collection list names --coll-root /tmp/nonexistent
    expect:
      contains: root directory not found
      executes: true
