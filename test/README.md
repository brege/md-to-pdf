## Test Harness and QA Dashboard

This directory contains all assets related to testing the `md-to-pdf` application, including integration tests, end-to-end (E2E) tests, and the scripts that power this QA dashboard.

### QA System Overview

The test status is not just manually tracked; it is dynamically generated by analyzing the state of the codebase and the test documentation itself.

**Source of Truth**
* `test/docs/checklist-level-?.md`: These files contain the master list of all planned test scenarios for each level of testing.
* `test/docs/audit-log.md`: This file documents known issues, limitations, or reasons why a test might be skipped.

**QA Scripts**
* The scripts in `test/scripts/` are used to parse the checklists, the audit log, and the test files themselves (`*.test.js`).
* They generate a consolidated report on any tests that are not in a "completed and passing" state.

## How to Update the Dashboard

To update the table below, run the following command from the **project root**:

```bash
node test/scripts/qa-dashboard.js --update-readme
```

These items are the kinds that *do not* get picked up by a CI. These tests are of three categories, and each category has its own script

1. [`find-nonclosed-audits.js`](scripts/find-nonclosed-audits.js)
   tests that are in the [audit log](audit-log.md) and have not been marked as `CLOSED`
2. [`find-unchecked-tests.js`](scripts/find-unchecked-tests.js)
   tests that are unchecked in the [checklist](checklist-level-[1-4].md)
3. [`find-skipped-tests.js`](scripts/find-skipped-tests.js) 
   tests that have been skipped via `it.skip()` in the `*.test.js` files

The [`qa-dashboard.js`](scripts/qa-dashboard.js) script synthesizes this information into the table below.

<!--qa-dashboard-start-->
| Test Code | Test Target         | Checklist | # it.skip() | Audit Log      | Test File Path                                         |
|-----------|---------------------|-----------|-------------|---------------|--------------------------------------------------------|
| 1.1.2    |                     |          |            | audit-log:7  |                                                       |
| 1.2.4    |                     |          |            | audit-log:44 |                                                       |
| 1.2.8    |                     |          |            | audit-log:44 |                                                       |
| 1.2.24   |                     |          |            | audit-log:56 |                                                       |
| 1.2.27   |                     |          |            | audit-log:68 |                                                       |
| 1.2.28   |                     |          |            | audit-log:68 |                                                       |
| 1.2.29   |                     |          |            | audit-log:68 |                                                       |
| 1.2.30   |                     |          |            | audit-log:68 |                                                       |
| 1.2.31   |                     |          |            | audit-log:68 |                                                       |
| 1.2.32   |                     |          |            | audit-log:68 |                                                       |
| 1.3.2    | plugin_determiner   | OPEN     | 1 it.skip()| audit-log:92 | test/integration/plugin_determiner/plugin_determiner.test.1.3.2.js|
| 1.4.14   | main_config_loader  | OPEN     | 1 it.skip()| audit-log:104| test/integration/main-config-loader/main-config-loader.test.1.4.14.js|
| 1.4.15   | main_config_loader  | OPEN     | 1 it.skip()|              | test/integration/main-config-loader/main-config-loader.test.1.4.15.js|
| 1.6.14   |                     |          |            | audit-log:128|                                                       |
| 1.7.1    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.2    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.3    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.4    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.5    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.6    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.7    | math_integration    | OPEN     |            |              |                                                       |
| 1.7.8    | math_integration    | OPEN     |            |              |                                                       |
| 2.2.2    |                     |          | 1 it.skip()|              | test/integration/default-handler/default-handler.test.2.2.2.js|
| 2.3.9    |                     |          |            | audit-log:178|                                                       |
| 4.1.1    | CLI Commands Interaction| OPEN     |            |              |                                                       |
| 4.1.2    | CLI Commands Interaction| OPEN     |            |              |                                                       |
| 4.2.1    | convert --watch     | OPEN     |            |              |                                                       |
| 4.2.2    | convert --watch     | OPEN     |            |              |                                                       |
| 4.3.1    | collection update   | OPEN     |            |              |                                                       |
| 4.3.2    | plugin create --from| OPEN     |            |              |                                                       |
<!--qa-dashboard-end-->

