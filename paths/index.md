# Path Registry Index

This directory contains the project's centralized pathing registry. 

This system eliminates brittle, relative `require()` paths in favor of a single, aliased source of truth (`@paths`), making the codebase more robust and easier to refactor.

The registry is automatically generated by the script at [`generator.js`](./generator.js), based on the declarative configuration in [`paths-config.yaml`](./paths-config.yaml).

### Core Registry Files

- `paths-config.yaml` 
  -- The declarative configuration file for the path registry.
- `generator.js`
  -- The script that generates the registry files.

### Generated Registry Files

These files are **automatically generated**. Do not edit them directly.

[ [**`index.js`**](./index.js) ] 
[ [**`linters.js`**](./linters.js) ]
[ [**`scripts.js`**](./scripts.js) ]
[ [**`tests.js`**](./tests.js) ]


### How do I link to something?

**Good**
```js
require('module-alias/register');
const { lintPath } = require('@paths');                     // ✔ good
const { main } = require(lintPath);
```

**Bad**
```js
//  Don't do this
const { findFiles } = require('../../shared/file-helpers'); // ✖ double dots
const { findFiles } = require(paths['fileHelpersPath']);    // ✖ dynamic key
const __dirname = ...;                                      // ✖ redeclaration
``` 

For any given file, you can generate the above code with the following command:
```bash
node scripts/shared/path-finder.js scripts/linting/lint.js
```

[This tool](../scripts/shared/path-finder.js) helps build the import statements in the above example.

Use on multiple files or directories as needed.

```bash
node scripts/shared/path-finder.js scripts/linting/lint.js scripts/linting/lib/
```
```js
require('module-alias/register');
const { 
  formattersPath,
  lintHelpersPath,
  lintPath
} = require('@paths');
// File: scripts/linting/lint.js
// File: scripts/linting/lib/formatters.js
// File: scripts/linting/lib/lint-helpers.js
```
Since the [`no-relative-paths` linter](../scripts/linting/code/no-relative-paths.js) will catch unused imports, it's often easier to add all then remove later.
```bash
node scripts/shared/path-finder.js src/collections/commands/
```
```js
require('module-alias/register');
const { 
  addPath,
  addSingletonPath,
  disablePath,
  enableAllPath,
  enablePath,
  listAvailablePath,
  listPath,
  removePath,
  updateAllPath,
  updatePath
} = require('@paths');
// File: src/collections/commands/add.js
// ... 
```


<details> 
<summary>Untracked Files</summary>

<!-- uncategorized-start -->
<!-- uncategorized-end -->

</details>
